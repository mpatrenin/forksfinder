{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = createDevTools;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _reduxDevtoolsInstrument = _interopRequireDefault(require(\"redux-devtools-instrument\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction logError(type) {\n  if (type === 'NoStore') {\n    console.error('Redux DevTools could not render. You must pass the Redux store ' + 'to <DevTools> either as a \"store\" prop or by wrapping it in a ' + '<Provider store={store}>.');\n  } else {\n    console.error('Redux DevTools could not render. Did you forget to include ' + 'DevTools.instrument() in your store enhancer chain before ' + 'using createStore()?');\n  }\n}\n\nfunction createDevTools(children) {\n  var _class, _temp;\n\n  var monitorElement = _react.Children.only(children);\n\n  var monitorProps = monitorElement.props;\n  var Monitor = monitorElement.type;\n  var ConnectedMonitor = (0, _reactRedux.connect)(function (state) {\n    return state;\n  })(Monitor);\n  return _temp = _class = /*#__PURE__*/function (_Component) {\n    _inherits(DevTools, _Component);\n\n    var _super = _createSuper(DevTools);\n\n    function DevTools(props, context) {\n      var _this;\n\n      _classCallCheck(this, DevTools);\n\n      _this = _super.call(this, props, context);\n\n      _defineProperty(_assertThisInitialized(_this), \"liftedStore\", void 0);\n\n      if (_reactRedux.ReactReduxContext) {\n        if (_this.props.store && !_this.props.store.liftedStore) {\n          logError('NoLiftedStore');\n        }\n\n        return _possibleConstructorReturn(_this);\n      }\n\n      if (!props.store && !context.store) {\n        logError('NoStore');\n        return _possibleConstructorReturn(_this);\n      }\n\n      if (context.store) {\n        _this.liftedStore = context.store.liftedStore;\n      } else {\n        _this.liftedStore = props.store.liftedStore;\n      }\n\n      if (!_this.liftedStore) {\n        logError('NoLiftedStore');\n      }\n\n      return _this;\n    }\n\n    _createClass(DevTools, [{\n      key: \"render\",\n      value: function render() {\n        if (_reactRedux.ReactReduxContext) {\n          // For react-redux@6\n          if (this.props.store) {\n            if (!this.props.store.liftedStore) {\n              return null;\n            }\n\n            return /*#__PURE__*/_react[\"default\"].createElement(_reactRedux.Provider, {\n              store: this.props.store.liftedStore\n            }, /*#__PURE__*/_react[\"default\"].createElement(ConnectedMonitor, monitorProps));\n          }\n\n          return /*#__PURE__*/_react[\"default\"].createElement(_reactRedux.ReactReduxContext.Consumer, null, function (props) {\n            if (!props || !props.store) {\n              logError('NoStore');\n              return null;\n            }\n\n            if (!props.store.liftedStore) {\n              logError('NoLiftedStore');\n              return null;\n            }\n\n            return /*#__PURE__*/_react[\"default\"].createElement(_reactRedux.Provider, {\n              store: props.store.liftedStore\n            }, /*#__PURE__*/_react[\"default\"].createElement(ConnectedMonitor, monitorProps));\n          });\n        }\n\n        if (!this.liftedStore) {\n          return null;\n        }\n\n        return /*#__PURE__*/_react[\"default\"].createElement(ConnectedMonitor, _extends({}, monitorProps, {\n          store: this.liftedStore\n        }));\n      }\n    }]);\n\n    return DevTools;\n  }(_react.Component), _defineProperty(_class, \"contextTypes\", {\n    store: _propTypes[\"default\"].object\n  }), _defineProperty(_class, \"propTypes\", {\n    store: _propTypes[\"default\"].object\n  }), _defineProperty(_class, \"instrument\", function (options) {\n    return (0, _reduxDevtoolsInstrument[\"default\"])(function (state, action) {\n      return Monitor.update(monitorProps, state, action);\n    }, options);\n  }), _temp;\n}","map":{"version":3,"sources":["../src/createDevTools.tsx"],"names":["type","console","monitorElement","Children","monitorProps","Monitor","ConnectedMonitor","Component","store","PropTypes","object","ReactReduxContext","logError","props","context","liftedStore"],"mappings":"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","sourcesContent":["import React, { Children, Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect, Provider, ReactReduxContext } from 'react-redux';\nimport instrument, {\n  EnhancedStore,\n  LiftedState,\n  LiftedStore,\n  Options,\n} from 'redux-devtools-instrument';\nimport { Action } from 'redux';\n\nfunction logError(type: string) {\n  if (type === 'NoStore') {\n    console.error(\n      'Redux DevTools could not render. You must pass the Redux store ' +\n        'to <DevTools> either as a \"store\" prop or by wrapping it in a ' +\n        '<Provider store={store}>.'\n    );\n  } else {\n    console.error(\n      'Redux DevTools could not render. Did you forget to include ' +\n        'DevTools.instrument() in your store enhancer chain before ' +\n        'using createStore()?'\n    );\n  }\n}\n\nexport interface Props<\n  S,\n  A extends Action<unknown>,\n  MonitorState,\n  MonitorAction extends Action<unknown>\n> {\n  store?: EnhancedStore<S, A, MonitorState>;\n}\n\nexport type Monitor<\n  S,\n  A extends Action<unknown>,\n  MonitorProps extends LiftedState<S, A, MonitorState>,\n  MonitorState,\n  MonitorAction extends Action<unknown>\n> = React.ReactElement<\n  MonitorProps,\n  React.ComponentType<MonitorProps & LiftedState<S, A, MonitorState>> & {\n    update(\n      monitorProps: MonitorProps,\n      state: MonitorState | undefined,\n      action: MonitorAction\n    ): MonitorState;\n  }\n>;\n\nexport default function createDevTools<\n  S,\n  A extends Action<unknown>,\n  MonitorProps extends LiftedState<S, A, MonitorState>,\n  MonitorState,\n  MonitorAction extends Action<unknown>\n>(children: Monitor<S, A, MonitorProps, MonitorState, MonitorAction>) {\n  const monitorElement = Children.only(children);\n  const monitorProps = monitorElement.props;\n  const Monitor = monitorElement.type;\n  const ConnectedMonitor = connect(\n    (state: LiftedState<S, A, MonitorState>) => state\n  )(Monitor as React.ComponentType<any>);\n\n  return class DevTools extends Component<\n    Props<S, A, MonitorState, MonitorAction>\n  > {\n    static contextTypes = {\n      store: PropTypes.object,\n    };\n\n    static propTypes = {\n      store: PropTypes.object,\n    };\n\n    liftedStore?: LiftedStore<S, A, MonitorState>;\n\n    static instrument = (\n      options?: Options<S, A, MonitorState, MonitorAction>\n    ) =>\n      instrument(\n        (state, action) => Monitor.update(monitorProps, state, action),\n        options\n      );\n\n    constructor(\n      props: Props<S, A, MonitorState, MonitorAction>,\n      context: { store?: EnhancedStore<S, A, MonitorState> }\n    ) {\n      super(props, context);\n\n      if (ReactReduxContext) {\n        if (this.props.store && !this.props.store.liftedStore) {\n          logError('NoLiftedStore');\n        }\n        return;\n      }\n\n      if (!props.store && !context.store) {\n        logError('NoStore');\n        return;\n      }\n\n      if (context.store) {\n        this.liftedStore = context.store.liftedStore;\n      } else {\n        this.liftedStore = props.store!.liftedStore;\n      }\n\n      if (!this.liftedStore) {\n        logError('NoLiftedStore');\n      }\n    }\n\n    render() {\n      if (ReactReduxContext) {\n        // For react-redux@6\n        if (this.props.store) {\n          if (!this.props.store.liftedStore) {\n            return null;\n          }\n          return (\n            <Provider store={this.props.store.liftedStore}>\n              <ConnectedMonitor {...monitorProps} />\n            </Provider>\n          );\n        }\n        return (\n          <ReactReduxContext.Consumer>\n            {(props) => {\n              if (!props || !props.store) {\n                logError('NoStore');\n                return null;\n              }\n              if (\n                !((props.store as unknown) as EnhancedStore<S, A, MonitorState>)\n                  .liftedStore\n              ) {\n                logError('NoLiftedStore');\n                return null;\n              }\n              return (\n                <Provider\n                  store={\n                    ((props.store as unknown) as EnhancedStore<\n                      S,\n                      A,\n                      MonitorState\n                    >).liftedStore\n                  }\n                >\n                  <ConnectedMonitor {...monitorProps} />\n                </Provider>\n              );\n            }}\n          </ReactReduxContext.Consumer>\n        );\n      }\n\n      if (!this.liftedStore) {\n        return null;\n      }\n\n      return <ConnectedMonitor {...monitorProps} store={this.liftedStore} />;\n    }\n  };\n}\n"]},"metadata":{},"sourceType":"script"}