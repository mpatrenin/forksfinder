{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = reducer;\n\nvar _react = require(\"react\");\n\nvar _actions = require(\"./actions\");\n\nvar _constants = require(\"./constants\");\n\nfunction position(props) {\n  var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : props.defaultPosition;\n  var action = arguments.length > 2 ? arguments[2] : undefined;\n  return action.type === _actions.CHANGE_POSITION ? _constants.POSITIONS[(_constants.POSITIONS.indexOf(state) + 1) % _constants.POSITIONS.length] : state;\n}\n\nfunction size(props) {\n  var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : props.defaultSize;\n  var action = arguments.length > 2 ? arguments[2] : undefined;\n  return action.type === _actions.CHANGE_SIZE ? action.size : state;\n}\n\nfunction isVisible(props) {\n  var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : props.defaultIsVisible;\n  var action = arguments.length > 2 ? arguments[2] : undefined;\n  return action.type === _actions.TOGGLE_VISIBILITY ? !state : state;\n}\n\nfunction childMonitorStates(props) {\n  var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var action = arguments.length > 2 ? arguments[2] : undefined;\n  return _react.Children.map(props.children, function (child, index) {\n    return child.type.update(child.props, state[index], action);\n  });\n}\n\nfunction childMonitorIndex(props) {\n  var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var action = arguments.length > 2 ? arguments[2] : undefined;\n\n  switch (action.type) {\n    case _actions.CHANGE_MONITOR:\n      return (state + 1) % _react.Children.count(props.children);\n\n    default:\n      return state;\n  }\n}\n\nfunction reducer(props) {\n  var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var action = arguments.length > 2 ? arguments[2] : undefined;\n\n  if (!state.childMonitorStates) {\n    _react.Children.forEach(props.children, function (child, index) {\n      if (typeof child.type.update !== 'function') {\n        // eslint-disable-next-line no-console\n        console.error(\"Child of <DockMonitor> with the index \".concat(index, \" \") + \"(\".concat(child.type.displayName || child.type.name || child.type, \") \") + 'does not appear to be a valid Redux DevTools monitor.');\n      }\n    });\n  }\n\n  return {\n    position: position(props, state.position, action),\n    isVisible: isVisible(props, state.isVisible, action),\n    size: size(props, state.size, action),\n    childMonitorIndex: childMonitorIndex(props, state.childMonitorIndex, action),\n    childMonitorStates: childMonitorStates(props, state.childMonitorStates, action)\n  };\n}","map":{"version":3,"sources":["../src/reducers.ts"],"names":["state","props","defaultPosition","action","CHANGE_POSITION","POSITIONS","defaultSize","CHANGE_SIZE","defaultIsVisible","TOGGLE_VISIBILITY","child","CHANGE_MONITOR","Children","console","position","isVisible","size","childMonitorIndex","childMonitorStates"],"mappings":"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","sourcesContent":["import { Children } from 'react';\nimport { Action } from 'redux';\nimport {\n  CHANGE_MONITOR,\n  CHANGE_POSITION,\n  CHANGE_SIZE,\n  DockMonitorAction,\n  TOGGLE_VISIBILITY,\n} from './actions';\nimport { POSITIONS } from './constants';\nimport { DockMonitorProps } from './DockMonitor';\n\nexport interface DockMonitorState {\n  position: 'left' | 'top' | 'right' | 'bottom';\n  size: number;\n  isVisible: boolean;\n  childMonitorStates: unknown[];\n  childMonitorIndex: number;\n}\n\nfunction position<S, A extends Action<unknown>>(\n  props: DockMonitorProps<S, A>,\n  state = props.defaultPosition,\n  action: DockMonitorAction\n) {\n  return action.type === CHANGE_POSITION\n    ? POSITIONS[(POSITIONS.indexOf(state) + 1) % POSITIONS.length]\n    : state;\n}\n\nfunction size<S, A extends Action<unknown>>(\n  props: DockMonitorProps<S, A>,\n  state = props.defaultSize,\n  action: DockMonitorAction\n) {\n  return action.type === CHANGE_SIZE ? action.size : state;\n}\n\nfunction isVisible<S, A extends Action<unknown>>(\n  props: DockMonitorProps<S, A>,\n  state = props.defaultIsVisible,\n  action: DockMonitorAction\n) {\n  return action.type === TOGGLE_VISIBILITY ? !state : state;\n}\n\nfunction childMonitorStates<S, A extends Action<unknown>>(\n  props: DockMonitorProps<S, A>,\n  state: unknown[] = [],\n  action: DockMonitorAction\n) {\n  return Children.map(props.children, (child, index) =>\n    child.type.update(child.props, state[index], action)\n  );\n}\n\nfunction childMonitorIndex<S, A extends Action<unknown>>(\n  props: DockMonitorProps<S, A>,\n  state = 0,\n  action: DockMonitorAction\n) {\n  switch (action.type) {\n    case CHANGE_MONITOR:\n      return (state + 1) % Children.count(props.children);\n    default:\n      return state;\n  }\n}\n\nexport default function reducer<S, A extends Action<unknown>>(\n  props: DockMonitorProps<S, A>,\n  state: Partial<DockMonitorState> = {},\n  action: DockMonitorAction\n): DockMonitorState {\n  if (!state.childMonitorStates) {\n    Children.forEach(props.children, (child, index) => {\n      if (typeof child.type.update !== 'function') {\n        // eslint-disable-next-line no-console\n        console.error(\n          `Child of <DockMonitor> with the index ${index} ` +\n            `(${\n              child.type.displayName ||\n              child.type.name ||\n              ((child.type as unknown) as string)\n            }) ` +\n            'does not appear to be a valid Redux DevTools monitor.'\n        );\n      }\n    });\n  }\n\n  return {\n    position: position(props, state.position, action),\n    isVisible: isVisible(props, state.isVisible, action),\n    size: size(props, state.size, action),\n    childMonitorIndex: childMonitorIndex(\n      props,\n      state.childMonitorIndex,\n      action\n    ),\n    childMonitorStates: childMonitorStates(\n      props,\n      state.childMonitorStates,\n      action\n    ),\n  };\n}\n"]},"metadata":{},"sourceType":"script"}