{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDock = _interopRequireDefault(require(\"react-dock\"));\n\nvar _constants = require(\"./constants\");\n\nvar _actions = require(\"./actions\");\n\nvar _reducers = _interopRequireDefault(require(\"./reducers\"));\n\nvar _parseKey = _interopRequireDefault(require(\"parse-key\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar DockMonitor = /*#__PURE__*/function (_Component) {\n  _inherits(DockMonitor, _Component);\n\n  var _super = _createSuper(DockMonitor);\n\n  function DockMonitor(props) {\n    var _this;\n\n    _classCallCheck(this, DockMonitor);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyDown\", function (e) {\n      // Ignore regular keys when focused on a field\n      // and no modifiers are active.\n      if (!e.ctrlKey && !e.metaKey && !e.altKey && (e.target.tagName === 'INPUT' || e.target.tagName === 'SELECT' || e.target.tagName === 'TEXTAREA' || e.target.isContentEditable)) {\n        return;\n      }\n\n      var visibilityKey = (0, _parseKey[\"default\"])(_this.props.toggleVisibilityKey);\n      var positionKey = (0, _parseKey[\"default\"])(_this.props.changePositionKey);\n      var monitorKey;\n\n      if (_this.props.changeMonitorKey) {\n        monitorKey = (0, _parseKey[\"default\"])(_this.props.changeMonitorKey);\n      }\n\n      if (_this.matchesKey(visibilityKey, e)) {\n        e.preventDefault();\n\n        _this.props.dispatch((0, _actions.toggleVisibility)());\n      } else if (_this.matchesKey(positionKey, e)) {\n        e.preventDefault();\n\n        _this.props.dispatch((0, _actions.changePosition)());\n      } else if (_this.matchesKey(monitorKey, e)) {\n        e.preventDefault();\n\n        _this.props.dispatch((0, _actions.changeMonitor)());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSizeChange\", function (requestedSize) {\n      _this.props.dispatch((0, _actions.changeSize)(requestedSize));\n    });\n\n    var childrenCount = _react.Children.count(props.children);\n\n    if (childrenCount === 0) {\n      // eslint-disable-next-line no-console\n      console.error('<DockMonitor> requires at least one monitor inside. ' + 'Why don’t you try <LogMonitor>? You can get it at ' + 'https://github.com/gaearon/redux-devtools-log-monitor.');\n    } else if (childrenCount > 1 && !props.changeMonitorKey) {\n      // eslint-disable-next-line no-console\n      console.error('You specified multiple monitors inside <DockMonitor> ' + 'but did not provide `changeMonitorKey` prop to change them. ' + 'Try specifying <DockMonitor changeMonitorKey=\"ctrl-m\" /> ' + 'and then press Ctrl-M.');\n    }\n\n    return _this;\n  }\n\n  _createClass(DockMonitor, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.addEventListener('keydown', this.handleKeyDown);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('keydown', this.handleKeyDown);\n    }\n  }, {\n    key: \"matchesKey\",\n    value: function matchesKey(key, event) {\n      if (!key) {\n        return false;\n      }\n\n      var charCode = event.keyCode || event.which;\n\n      var _char = String.fromCharCode(charCode);\n\n      return key.name.toUpperCase() === _char.toUpperCase() && key.alt === event.altKey && key.ctrl === event.ctrlKey && key.meta === event.metaKey && key.shift === event.shiftKey;\n    }\n  }, {\n    key: \"renderChild\",\n    value: function renderChild(child, index, otherProps) {\n      var monitorState = this.props.monitorState;\n      var childMonitorIndex = monitorState.childMonitorIndex,\n          childMonitorStates = monitorState.childMonitorStates;\n\n      if (index !== childMonitorIndex) {\n        return null;\n      }\n\n      return /*#__PURE__*/(0, _react.cloneElement)(child, _objectSpread({\n        monitorState: childMonitorStates[index]\n      }, otherProps));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          monitorState = _this$props.monitorState,\n          children = _this$props.children,\n          fluid = _this$props.fluid,\n          rest = _objectWithoutProperties(_this$props, [\"monitorState\", \"children\", \"fluid\"]);\n\n      var position = monitorState.position,\n          isVisible = monitorState.isVisible,\n          size = monitorState.size;\n      return /*#__PURE__*/_react[\"default\"].createElement(_reactDock[\"default\"], {\n        position: position,\n        isVisible: isVisible,\n        size: size,\n        fluid: fluid,\n        onSizeChange: this.handleSizeChange,\n        dimMode: \"none\"\n      }, _react.Children.map(children, function (child, index) {\n        return _this2.renderChild(child, index, rest);\n      }));\n    }\n  }]);\n\n  return DockMonitor;\n}(_react.Component);\n\n_defineProperty(DockMonitor, \"update\", _reducers[\"default\"]);\n\n_defineProperty(DockMonitor, \"propTypes\", {\n  defaultPosition: _propTypes[\"default\"].oneOf(_constants.POSITIONS),\n  defaultIsVisible: _propTypes[\"default\"].bool.isRequired,\n  defaultSize: _propTypes[\"default\"].number.isRequired,\n  toggleVisibilityKey: _propTypes[\"default\"].string.isRequired,\n  changePositionKey: _propTypes[\"default\"].string.isRequired,\n  changeMonitorKey: _propTypes[\"default\"].string,\n  fluid: _propTypes[\"default\"].bool,\n  dispatch: _propTypes[\"default\"].func,\n  monitorState: _propTypes[\"default\"].shape({\n    position: _propTypes[\"default\"].oneOf(_constants.POSITIONS).isRequired,\n    size: _propTypes[\"default\"].number.isRequired,\n    isVisible: _propTypes[\"default\"].bool.isRequired,\n    childMonitorState: _propTypes[\"default\"].any\n  })\n});\n\n_defineProperty(DockMonitor, \"defaultProps\", {\n  defaultIsVisible: true,\n  defaultPosition: 'right',\n  defaultSize: 0.3,\n  fluid: true\n});\n\nvar _default = DockMonitor;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["../src/DockMonitor.tsx"],"names":["DockMonitor","Component","reducer","defaultPosition","PropTypes","POSITIONS","defaultIsVisible","defaultSize","toggleVisibilityKey","changePositionKey","changeMonitorKey","fluid","dispatch","monitorState","position","size","isVisible","childMonitorState","any","childrenCount","Children","props","console","window","key","event","charCode","char","String","e","visibilityKey","positionKey","monitorKey","child","index","otherProps","childMonitorIndex","childMonitorStates","children","rest"],"mappings":"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","sourcesContent":["import React, { cloneElement, Children, Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Dock from 'react-dock';\nimport { Action, Dispatch } from 'redux';\nimport { LiftedState, Monitor } from 'redux-devtools';\nimport { POSITIONS } from './constants';\nimport {\n  toggleVisibility,\n  changeMonitor,\n  changePosition,\n  changeSize,\n  DockMonitorAction,\n} from './actions';\nimport reducer, { DockMonitorState } from './reducers';\nimport parseKey from 'parse-key';\n\ninterface KeyObject {\n  name: string;\n  ctrl: boolean;\n  meta: boolean;\n  shift: boolean;\n  alt: boolean;\n  sequence: string;\n}\n\ninterface ExternalProps<S, A extends Action<unknown>> {\n  defaultPosition: 'left' | 'top' | 'right' | 'bottom';\n  defaultIsVisible: boolean;\n  defaultSize: number;\n  toggleVisibilityKey: string;\n  changePositionKey: string;\n  changeMonitorKey?: string;\n  fluid: boolean;\n\n  dispatch: Dispatch<DockMonitorAction>;\n\n  children:\n    | Monitor<S, A, LiftedState<S, A, unknown>, unknown, Action<unknown>>\n    | Monitor<S, A, LiftedState<S, A, unknown>, unknown, Action<unknown>>[];\n}\n\ninterface DefaultProps {\n  defaultIsVisible: boolean;\n  defaultPosition: 'left' | 'top' | 'right' | 'bottom';\n  defaultSize: number;\n  fluid: boolean;\n}\n\nexport interface DockMonitorProps<S, A extends Action<unknown>>\n  extends LiftedState<S, A, DockMonitorState> {\n  defaultPosition: 'left' | 'top' | 'right' | 'bottom';\n  defaultIsVisible: boolean;\n  defaultSize: number;\n  toggleVisibilityKey: string;\n  changePositionKey: string;\n  changeMonitorKey?: string;\n  fluid: boolean;\n\n  dispatch: Dispatch<DockMonitorAction>;\n\n  children:\n    | Monitor<S, A, LiftedState<S, A, unknown>, unknown, Action<unknown>>\n    | Monitor<S, A, LiftedState<S, A, unknown>, unknown, Action<unknown>>[];\n}\n\nclass DockMonitor<S, A extends Action<unknown>> extends Component<\n  DockMonitorProps<S, A>\n> {\n  static update = reducer;\n\n  static propTypes = {\n    defaultPosition: PropTypes.oneOf(POSITIONS),\n    defaultIsVisible: PropTypes.bool.isRequired,\n    defaultSize: PropTypes.number.isRequired,\n    toggleVisibilityKey: PropTypes.string.isRequired,\n    changePositionKey: PropTypes.string.isRequired,\n    changeMonitorKey: PropTypes.string,\n    fluid: PropTypes.bool,\n\n    dispatch: PropTypes.func,\n    monitorState: PropTypes.shape({\n      position: PropTypes.oneOf(POSITIONS).isRequired,\n      size: PropTypes.number.isRequired,\n      isVisible: PropTypes.bool.isRequired,\n      childMonitorState: PropTypes.any,\n    }),\n  };\n\n  static defaultProps: DefaultProps = {\n    defaultIsVisible: true,\n    defaultPosition: 'right',\n    defaultSize: 0.3,\n    fluid: true,\n  };\n\n  constructor(props: DockMonitorProps<S, A>) {\n    super(props);\n\n    const childrenCount = Children.count(props.children);\n    if (childrenCount === 0) {\n      // eslint-disable-next-line no-console\n      console.error(\n        '<DockMonitor> requires at least one monitor inside. ' +\n          'Why don’t you try <LogMonitor>? You can get it at ' +\n          'https://github.com/gaearon/redux-devtools-log-monitor.'\n      );\n    } else if (childrenCount > 1 && !props.changeMonitorKey) {\n      // eslint-disable-next-line no-console\n      console.error(\n        'You specified multiple monitors inside <DockMonitor> ' +\n          'but did not provide `changeMonitorKey` prop to change them. ' +\n          'Try specifying <DockMonitor changeMonitorKey=\"ctrl-m\" /> ' +\n          'and then press Ctrl-M.'\n      );\n    }\n  }\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  matchesKey(key: KeyObject | undefined, event: KeyboardEvent) {\n    if (!key) {\n      return false;\n    }\n\n    const charCode = event.keyCode || event.which;\n    const char = String.fromCharCode(charCode);\n    return (\n      key.name.toUpperCase() === char.toUpperCase() &&\n      key.alt === event.altKey &&\n      key.ctrl === event.ctrlKey &&\n      key.meta === event.metaKey &&\n      key.shift === event.shiftKey\n    );\n  }\n\n  handleKeyDown = (e: KeyboardEvent) => {\n    // Ignore regular keys when focused on a field\n    // and no modifiers are active.\n    if (\n      !e.ctrlKey &&\n      !e.metaKey &&\n      !e.altKey &&\n      ((e.target! as { tagName?: string }).tagName === 'INPUT' ||\n        (e.target! as { tagName?: string }).tagName === 'SELECT' ||\n        (e.target! as { tagName?: string }).tagName === 'TEXTAREA' ||\n        (e.target! as { isContentEditable?: boolean }).isContentEditable)\n    ) {\n      return;\n    }\n\n    const visibilityKey = parseKey(this.props.toggleVisibilityKey);\n    const positionKey = parseKey(this.props.changePositionKey);\n\n    let monitorKey;\n    if (this.props.changeMonitorKey) {\n      monitorKey = parseKey(this.props.changeMonitorKey);\n    }\n\n    if (this.matchesKey(visibilityKey, e)) {\n      e.preventDefault();\n      this.props.dispatch(toggleVisibility());\n    } else if (this.matchesKey(positionKey, e)) {\n      e.preventDefault();\n      this.props.dispatch(changePosition());\n    } else if (this.matchesKey(monitorKey, e)) {\n      e.preventDefault();\n      this.props.dispatch(changeMonitor());\n    }\n  };\n\n  handleSizeChange = (requestedSize: number) => {\n    this.props.dispatch(changeSize(requestedSize));\n  };\n\n  renderChild(\n    child: Monitor<S, A, LiftedState<S, A, unknown>, unknown, Action<unknown>>,\n    index: number,\n    otherProps: Omit<\n      DockMonitorProps<S, A>,\n      'monitorState' | 'children' | 'fluid'\n    >\n  ) {\n    const { monitorState } = this.props;\n    const { childMonitorIndex, childMonitorStates } = monitorState;\n\n    if (index !== childMonitorIndex) {\n      return null;\n    }\n\n    return cloneElement(child, {\n      monitorState: childMonitorStates[index],\n      ...otherProps,\n    });\n  }\n\n  render() {\n    const { monitorState, children, fluid, ...rest } = this.props;\n    const { position, isVisible, size } = monitorState;\n\n    return (\n      <Dock\n        position={position}\n        isVisible={isVisible}\n        size={size}\n        fluid={fluid}\n        onSizeChange={this.handleSizeChange}\n        dimMode=\"none\"\n      >\n        {Children.map(\n          children as\n            | Monitor<\n                S,\n                A,\n                LiftedState<S, A, unknown>,\n                unknown,\n                Action<unknown>\n              >\n            | Monitor<\n                S,\n                A,\n                LiftedState<S, A, unknown>,\n                unknown,\n                Action<unknown>\n              >[],\n          (child, index) => this.renderChild(child, index, rest)\n        )}\n      </Dock>\n    );\n  }\n}\n\nexport default (DockMonitor as unknown) as React.ComponentType<\n  ExternalProps<unknown, Action<unknown>>\n> & {\n  update(\n    monitorProps: ExternalProps<unknown, Action<unknown>>,\n    state: DockMonitorState | undefined,\n    action: DockMonitorAction\n  ): DockMonitorState;\n  defaultProps: DefaultProps;\n};\n"]},"metadata":{},"sourceType":"script"}